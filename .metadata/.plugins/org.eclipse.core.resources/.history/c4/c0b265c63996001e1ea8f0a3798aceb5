package data;
import java.sql.Connection;
import java.sql.Date;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import java.sql.Types;
import java.util.ArrayList;
import java.sql.PreparedStatement;
import bus.*;

public class CustomerDB {
	static private Connection myConnection;
	static private String mySQLStatement = null;	
	static private String mySQLQuery = null;
	
	public static void insert(Customer aNewCustomer) throws SQLException 
	{	 	
    	Integer id = UserDB.insert(aNewCustomer);
   
	    if (id != null) {
	        PreparedStatement myPreparedStatement = null ;
			String sqlStatement;
			
			sqlStatement = "insert into customerbank values(? , ? , ?)";
					
			myPreparedStatement = myConnection.prepareStatement(sqlStatement);		
			
			myPreparedStatement.setInt(1, id);
			myPreparedStatement.setDouble(2, aNewCustomer.getSalary());
			myPreparedStatement.setInt(3, aNewCheckingAccount.getCustomer());	
			myPreparedStatement.setDouble(4, aNewCheckingAccount.getBalance());
			myPreparedStatement.setDate(5, Date.valueOf(aNewCheckingAccount.getOpeningDate()));
			myPreparedStatement.setInt(6, aNewCheckingAccount.getMonthlyTransactionLimit());
			myPreparedStatement.setDouble(7, aNewCheckingAccount.getTransactionFees());
			
			myPreparedStatement.executeUpdate();	
			
			myConnection.commit();	
	    }
	}
}
